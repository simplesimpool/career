<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bookmarket.app.mapper.sw.AdminMapperSW">
	<select id="getlist" resultType="BookSW">
		select * from Book b,
		BookSellRequest bsr
		where b.book_id = bsr.book_id and bsr.bsr_yn = 'n'
		order by b.book_date desc,
		b.book_id desc
	</select>

	<update id="approveBook" parameterType="int">
		UPDATE BookSellRequest
		SET bsr_yn = 'y'
		WHERE bsr_id = #{bsrId}
	</update>

	<update id="rejectBook" parameterType="map">
		UPDATE BookSellRequest
		SET bsr_yn = 'r',
		bsr_reason = #{reason}
		WHERE bsr_id = #{bsrId}
	</update>


</mapper>