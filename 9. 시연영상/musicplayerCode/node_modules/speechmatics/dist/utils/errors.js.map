{
  "version": 3,
  "sources": ["../../src/utils/errors.ts"],
  "sourcesContent": ["import z from 'zod';\n\nimport { ErrorResponse, ErrorResponseErrorEnum } from '../types';\n\nconst ErrorResponseSchema: z.ZodType<ErrorResponse> = z.object({\n  code: z.number(),\n  detail: z.optional(z.string()),\n  error: z.nativeEnum(ErrorResponseErrorEnum),\n});\n\ntype SpeechamticsErrorEnum = InternalErrorEnum | ErrorResponseErrorEnum;\ninterface SpeechmaticsErrorInterface extends Error {\n  error: SpeechamticsErrorEnum;\n}\n\nexport class SpeechmaticsResponseError\n  extends Error\n  implements SpeechmaticsErrorInterface\n{\n  response: ErrorResponse;\n  error: ErrorResponseErrorEnum;\n\n  constructor(errorResponse: ErrorResponse | unknown) {\n    const parse = ErrorResponseSchema.safeParse(errorResponse);\n    if (parse.success) {\n      super(parse.data.error);\n      this.response = parse.data;\n      this.error = parse.data.error;\n      this.name = 'SpeechmaticsResponseError';\n    } else {\n      throw new SpeechmaticsUnexpectedResponse(undefined, errorResponse);\n    }\n  }\n}\n\nexport const InternalErrorEnum = {\n  ConfigurationError: 'Configuration error',\n  NetworkError: 'Network error',\n  UnsupportedEnvironment: 'Unsupported environment',\n  UnexpectedMessage: 'Unexpected message',\n  UnexpectedResponse: 'Unexpected response',\n  InvalidTypeError: 'Invalid type error',\n} as const;\n\nexport type InternalErrorEnum =\n  typeof InternalErrorEnum[keyof typeof InternalErrorEnum];\n\nclass SpeechmaticsInternalError extends Error {\n  error: InternalErrorEnum;\n  cause?: unknown; // e.g. a caught error or response\n\n  constructor(error: InternalErrorEnum, message?: string, cause?: unknown) {\n    super(message ?? error);\n    this.name = 'SpeechmaticsInternalError';\n    this.error = error;\n    this.cause = cause;\n  }\n}\n\nexport class SpeechmaticsConfigurationError extends SpeechmaticsInternalError {\n  constructor(message?: string) {\n    super(InternalErrorEnum.ConfigurationError, message);\n    this.name = 'SpeechmaticsConfigurationError';\n  }\n}\nexport class SpeechmaticsNetworkError extends SpeechmaticsInternalError {\n  constructor(message?: string, cause?: unknown) {\n    super(InternalErrorEnum.NetworkError, message, cause);\n    this.name = 'SpeechmaticsNetworkError';\n  }\n}\nexport class SpeechmaticsUnsupportedEnvironment extends SpeechmaticsInternalError {\n  constructor(message?: string) {\n    super(InternalErrorEnum.UnsupportedEnvironment, message);\n    this.name = 'SpeechmaticsUnsupportedEnvironment';\n  }\n}\nexport class SpeechmaticsUnexpectedMessage extends SpeechmaticsInternalError {\n  constructor(message?: string) {\n    super(InternalErrorEnum.UnexpectedMessage, message);\n    this.name = 'SpeechmaticsUnexpectedMessage';\n  }\n}\nexport class SpeechmaticsUnexpectedResponse extends SpeechmaticsInternalError {\n  constructor(message?: string, response?: unknown) {\n    super(InternalErrorEnum.UnexpectedResponse, message, response);\n    this.name = 'SpeechmaticsUnexpectedResponse';\n  }\n}\nexport class SpeechmaticsInvalidTypeError extends SpeechmaticsInternalError {\n  constructor(message?: string, cause?: unknown) {\n    super(InternalErrorEnum.InvalidTypeError, message, cause);\n    this.name = 'SpeechmaticsInvalidTypeError';\n  }\n}\n\nexport type SpeechmaticsError =\n  | SpeechmaticsInternalError\n  | SpeechmaticsResponseError;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAc;AAEd,mBAAsD;AAEtD,MAAM,sBAAgD,WAAAA,QAAE,OAAO;AAAA,EAC7D,MAAM,WAAAA,QAAE,OAAO;AAAA,EACf,QAAQ,WAAAA,QAAE,SAAS,WAAAA,QAAE,OAAO,CAAC;AAAA,EAC7B,OAAO,WAAAA,QAAE,WAAW,mCAAsB;AAC5C,CAAC;AAOM,MAAM,kCACH,MAEV;AAAA,EAIE,YAAY,eAAwC;AAAA;AAAA;AAAA;AAClD,UAAM,QAAQ,oBAAoB,UAAU,aAAa;AACzD,QAAI,MAAM,SAAS;AACjB,cAAM,MAAM,KAAK,KAAK;AACtB,WAAK,WAAW,MAAM;AACtB,WAAK,QAAQ,MAAM,KAAK;AACxB,WAAK,OAAO;AAAA,IACd,OAAO;AACL,YAAM,IAAI,+BAA+B,QAAW,aAAa;AAAA,IACnE;AAAA,EACF;AACF;AAEO,MAAM,oBAAoB;AAAA,EAC/B,oBAAoB;AAAA,EACpB,cAAc;AAAA,EACd,wBAAwB;AAAA,EACxB,mBAAmB;AAAA,EACnB,oBAAoB;AAAA,EACpB,kBAAkB;AACpB;AAKA,MAAM,kCAAkC,MAAM;AAAA;AAAA,EAI5C,YAAY,OAA0B,SAAkB,OAAiB;AACvE,UAAM,WAAW,KAAK;AACtB,SAAK,OAAO;AACZ,SAAK,QAAQ;AACb,SAAK,QAAQ;AAAA,EACf;AACF;AAEO,MAAM,uCAAuC,0BAA0B;AAAA,EAC5E,YAAY,SAAkB;AAC5B,UAAM,kBAAkB,oBAAoB,OAAO;AACnD,SAAK,OAAO;AAAA,EACd;AACF;AACO,MAAM,iCAAiC,0BAA0B;AAAA,EACtE,YAAY,SAAkB,OAAiB;AAC7C,UAAM,kBAAkB,cAAc,SAAS,KAAK;AACpD,SAAK,OAAO;AAAA,EACd;AACF;AACO,MAAM,2CAA2C,0BAA0B;AAAA,EAChF,YAAY,SAAkB;AAC5B,UAAM,kBAAkB,wBAAwB,OAAO;AACvD,SAAK,OAAO;AAAA,EACd;AACF;AACO,MAAM,sCAAsC,0BAA0B;AAAA,EAC3E,YAAY,SAAkB;AAC5B,UAAM,kBAAkB,mBAAmB,OAAO;AAClD,SAAK,OAAO;AAAA,EACd;AACF;AACO,MAAM,uCAAuC,0BAA0B;AAAA,EAC5E,YAAY,SAAkB,UAAoB;AAChD,UAAM,kBAAkB,oBAAoB,SAAS,QAAQ;AAC7D,SAAK,OAAO;AAAA,EACd;AACF;AACO,MAAM,qCAAqC,0BAA0B;AAAA,EAC1E,YAAY,SAAkB,OAAiB;AAC7C,UAAM,kBAAkB,kBAAkB,SAAS,KAAK;AACxD,SAAK,OAAO;AAAA,EACd;AACF;",
  "names": ["z"]
}
