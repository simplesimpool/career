{
  "version": 3,
  "sources": ["../../src/management-platform/auth.ts"],
  "sourcesContent": ["import { SpeechmaticsNetworkError } from '../utils/errors';\nimport { request } from '../utils/request';\n\nexport default async function getShortLivedToken(\n  type: 'batch' | 'rt',\n  apiKey: string,\n  mpApiUrl: string,\n  ttl?: number,\n) {\n  if (typeof window !== 'undefined') {\n    console.warn(\n      'Requesting a short lived token from a browser is not recommended. \\\n    More info at https://github.com/speechmatics/speechmatics-js#readme',\n    );\n  }\n  const jsonResponse = await request<{ key_value: string }>(\n    apiKey,\n    mpApiUrl,\n    `v1/api_keys?type=${type}`,\n    'POST',\n    JSON.stringify({\n      ttl: ttl || 60,\n    }),\n    undefined,\n    'application/json',\n  ).catch((err) => {\n    throw new SpeechmaticsNetworkError('Error fetching short lived token', err);\n  });\n  return jsonResponse.key_value;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyC;AACzC,qBAAwB;AAExB,eAAO,mBACL,MACA,QACA,UACA,KACA;AACA,MAAI,OAAO,WAAW,aAAa;AACjC,YAAQ;AAAA,MACN;AAAA,IAEF;AAAA,EACF;AACA,QAAM,eAAe,UAAM;AAAA,IACzB;AAAA,IACA;AAAA,IACA,oBAAoB,IAAI;AAAA,IACxB;AAAA,IACA,KAAK,UAAU;AAAA,MACb,KAAK,OAAO;AAAA,IACd,CAAC;AAAA,IACD;AAAA,IACA;AAAA,EACF,EAAE,MAAM,CAAC,QAAQ;AACf,UAAM,IAAI,uCAAyB,oCAAoC,GAAG;AAAA,EAC5E,CAAC;AACD,SAAO,aAAa;AACtB;",
  "names": []
}
